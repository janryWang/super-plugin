!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Superplugin=n.Superplugin||{})}(this,function(n){"use strict";function t(n){function t(t,e,r){return function(t){return e.call(new n(t),t,f(r,t))}}function e(n,u){if(o(n))b(n,function(n,t){e(t,n)});else{if(n=g(n).replace(/process/i,""),!r(u))return;h[n]=t(n,u,h[n])}}function p(n,t,e){return i(n)&&n.length&&r(h[n])?h[n](t):y(e,t)}function l(n,t){if(!d(t))return cached[n];cached[n]=t}function s(n){u(n)?b(n,function(n){return s(n)}):r(n)?n(j):e(n)}var h=a();n=n||c();var j={process:e,post:p,extension:s,cache:l};return n.prototype=v(n.prototype,j),j}var e=function(n){return function(t){return null!=t&&Object.prototype.toString.call(t)==="[object "+n+"]"}},r=e("Function"),u=Array.isArray||e("Array"),o=e("Object"),i=e("String"),c=function(n){return function(){return n}},f=function(n,t){return r(n)?n:c(t)},p=function(n){return i(n)?n:""},a=function(){return Object.create(null)},l=Object.prototype.hasOwnProperty,s=function(n,t){return l.call(n,t)},d=function(n){return void 0!==n&&null!==n},y=function(n,t){return d(n)?n:t},v=function(n,t){for(var e in t)n[e]=t[e];return n},b=function(n,t){if(r(t))if(u(n))for(var e=0,o=n.length;e<o&&!1!==t(n[e],e);e++);else for(var i in n)if(s(n,i)&&!1===t(n[i],i))break},g=function(n){return p(n).toLowerCase()};n.createPluginService=t,Object.defineProperty(n,"__esModule",{value:!0})});