!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Superplugin=n.Superplugin||{})}(this,function(n){"use strict";function t(n){function t(t,e,r){return function(t){return e.call(new n(t),t,f(r,t))}}function e(n){return g(n).replace(/process/i,"")}function p(n,u){if(o(n))b(n,function(n,t){p(t,n)});else{if(n=e(n),!r(u))return;j[n]=t(n,u,j[n])}}function l(n,t,u){return i(n)&&n.length&&(n=e(n),r(j[n]))?j[n](t):y(u,t)}function s(n,t){if(!d(t))return cached[n];cached[n]=t}function h(n){u(n)?b(n,function(n){return h(n)}):r(n)?n(O):p(n)}var j=a();n=n||c();var O={process:p,post:l,extension:h,cache:s};return n.prototype=v(n.prototype,O),O}var e=function(n){return function(t){return null!=t&&Object.prototype.toString.call(t)==="[object "+n+"]"}},r=e("Function"),u=Array.isArray||e("Array"),o=e("Object"),i=e("String"),c=function(n){return function(){return n}},f=function(n,t){return r(n)?n:c(t)},p=function(n){return i(n)?n:""},a=function(){return Object.create(null)},l=Object.prototype.hasOwnProperty,s=function(n,t){return l.call(n,t)},d=function(n){return void 0!==n&&null!==n},y=function(n,t){return d(n)?n:t},v=function(n,t){for(var e in t)n[e]=t[e];return n},b=function(n,t){if(r(t))if(u(n))for(var e=0,o=n.length;e<o&&!1!==t(n[e],e);e++);else for(var i in n)if(s(n,i)&&!1===t(n[i],i))break},g=function(n){return p(n).toLowerCase()};n.createPluginService=t,Object.defineProperty(n,"__esModule",{value:!0})});